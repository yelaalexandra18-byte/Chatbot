<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sabores de Nari√±o - Chatbot</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background-color: #f8f9fa;
            color: #333;
            line-height: 1.6;
        }
        
        .container {
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
        }
        
        header {
            text-align: center;
            margin-bottom: 30px;
            background: linear-gradient(135deg, #9c2727 0%, #2c5530 100%);
            color: white;
            padding: 25px;
            border-radius: 15px;
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.15);
        }
        
        .restaurant-info {
            margin-top: 15px;
            font-size: 1.1em;
        }
        
        .restaurant-info div {
            margin-bottom: 5px;
        }
        
        h1 {
            margin-bottom: 10px;
            font-size: 2.2em;
        }
        
        .chat-container {
            background-color: white;
            border-radius: 15px;
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.1);
            overflow: hidden;
            margin-bottom: 30px;
        }
        
        .chat-header {
            background-color: #2c5530;
            color: white;
            padding: 18px;
            text-align: center;
            font-weight: bold;
            font-size: 1.2em;
        }
        
        .chat-messages {
            height: 400px;
            overflow-y: auto;
            padding: 20px;
            display: flex;
            flex-direction: column;
            background-color: #f0f3f5;
        }
        
        .message {
            max-width: 80%;
            padding: 12px 18px;
            margin-bottom: 15px;
            border-radius: 18px;
            animation: fadeIn 0.3s ease-in-out;
            line-height: 1.5;
        }
        
        .bot-message {
            background-color: #e9e9eb;
            align-self: flex-start;
            border-bottom-left-radius: 5px;
        }
        
        .user-message {
            background-color: #2c5530;
            color: white;
            align-self: flex-end;
            border-bottom-right-radius: 5px;
        }
        
        .options-container {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin-top: 10px;
        }
        
        .option-button {
            background-color: #9c2727;
            color: white;
            border: none;
            border-radius: 20px;
            padding: 8px 16px;
            font-size: 0.9em;
            cursor: pointer;
            transition: background-color 0.3s;
        }
        
        .option-button:hover {
            background-color: #7a1f1f;
        }
        
        .chat-input {
            display: flex;
            padding: 15px;
            background-color: #f9f9f9;
            border-top: 1px solid #eee;
        }
        
        .chat-input input {
            flex: 1;
            padding: 14px;
            border: 1px solid #ddd;
            border-radius: 25px;
            outline: none;
            font-size: 1em;
        }
        
        .chat-input button {
            background-color: #9c2727;
            color: white;
            border: none;
            border-radius: 25px;
            padding: 12px 24px;
            margin-left: 10px;
            cursor: pointer;
            transition: background-color 0.3s;
            font-weight: bold;
        }
        
        .chat-input button:hover {
            background-color: #7a1f1f;
        }
        
        .suggestions {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            padding: 15px;
            background-color: #f9f9f9;
            border-top: 1px solid #eee;
        }
        
        .suggestion {
            background-color: #e9e9eb;
            padding: 10px 18px;
            border-radius: 20px;
            font-size: 0.95em;
            cursor: pointer;
            transition: background-color 0.3s;
        }
        
        .suggestion:hover {
            background-color: #d4d4d8;
        }
        
        .menu-item {
            display: flex;
            justify-content: space-between;
            margin-bottom: 8px;
            padding: 5px 0;
            border-bottom: 1px dashed #ccc;
        }
        
        .menu-item:last-child {
            border-bottom: none;
        }
        
        .menu-category {
            font-weight: bold;
            margin-top: 15px;
            margin-bottom: 10px;
            color: #2c5530;
            padding-bottom: 5px;
            border-bottom: 2px solid #9c2727;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        footer {
            text-align: center;
            margin-top: 30px;
            color: #666;
            font-size: 0.9em;
        }
        
        .reservation-details {
            background-color: #f8f9fa;
            padding: 10px;
            border-radius: 8px;
            margin-top: 10px;
            border-left: 4px solid #9c2727;
        }
        
        .order-summary {
            background-color: #f0f8ff;
            padding: 15px;
            border-radius: 10px;
            margin: 10px 0;
            border: 1px solid #cce5ff;
        }
        
        .success-message {
            background-color: #d4edda;
            color: #155724;
            padding: 15px;
            border-radius: 10px;
            margin: 10px 0;
            border: 1px solid #c3e6cb;
        }
        
        .creator-message {
            background-color: #e8f4fd;
            color: #0c5460;
            padding: 15px;
            border-radius: 10px;
            margin: 10px 0;
            border: 1px solid #bee5eb;
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>Sabores de Nari√±o</h1>
            <div class="restaurant-info">
                <div>üìç T√∫querres-Imues #17-03, Tuquerres, Nari√±o</div>
                <div>üïë Lunes a domingo, 10:00 a.m. ‚Äì 10:00 p.m.</div>
                <div>üìû +57 314 987 6543</div>
                <div>üçΩÔ∏è Especialidad: Comida t√≠pica nari√±ense y fusi√≥n</div>
            </div>
        </header>
        
        <div class="chat-container">
            <div class="chat-header">
                Asistente Virtual - Sabores de Nari√±o
            </div>
            
            <div class="chat-messages" id="chat-messages">
                <!-- Mensaje de bienvenida se mostrar√° mediante JavaScript -->
            </div>
            
            <div class="suggestions">
                <div class="suggestion" onclick="showMenu()">Ver Men√∫</div>
                <div class="suggestion" onclick="startReservation()">Reservar Mesa</div>
                <div class="suggestion" onclick="startOrder()">Pedido a Domicilio</div>
                <div class="suggestion" onclick="showPromotions()">Promociones</div>
                <div class="suggestion" onclick="showLoyaltyInfo()">Puntos de Fidelizaci√≥n</div>
            </div>
            
            <div class="chat-input">
                <input type="text" id="user-input" placeholder="Escribe tu mensaje aqu√≠..." onkeypress="handleKeyPress(event)">
                <button onclick="sendMessage()">Enviar</button>
            </div>
        </div>
        
        <footer>
            <p>Chatbot de Sabores de Nari√±o - Tuquerres, Nari√±o ¬© 2023</p>
        </footer>
    </div>

    <script>
        // Variables para gestionar el estado del chatbot
        let currentOrder = [];
        let userPoints = 65;
        let reservationDetails = {};
        let reservationStep = 0;
        let reservationType = '';
        let orderStep = 0;
        let orderItems = [];
        let orderTotal = 0;
        
        // Datos del restaurante
        const menu = {
            entradas: [
                { name: "Empanadas de carne", price: 3000 },
                { name: "Aj√≠ de papa con ma√≠z tostado", price: 6500 }
            ],
            principales: [
                { name: "Cuy asado con papas chauchas y aj√≠", price: 38000 },
                { name: "Trucha a la plancha con ensalada fresca", price: 32000 },
                { name: "Sopa de locro nari√±ense", price: 15000 }
            ],
            bebidas: [
                { name: "Jugo de lulo", price: 3000 },
                { name: "Jugo de fresa", price: 7000 },
                { name: "Jugo de mora", price: 5000 },
                { name: "Jugo de tomate", price: 2000 },
                { name: "Jugo de pi√±a", price: 4500 },
                { name: "Canelazo con panela", price: 6000 },
                { name: "Caf√© de origen nari√±ense", price: 5000 },
                { name: "Chocolate", price: 9000 }
            ],
            postres: [
                { name: "Helado de mora de castilla", price: 5000 },
                { name: "Quesillo con melao", price: 9000 },
                { name: "Postre de maracuy√°", price: 3000 },
                { name: "Helado de fresa", price: 5000 }
            ]
        };

        const promotions = {
            martes: {
                name: "Combo Familiar - Martes",
                description: "2 cuyes asados + 4 jugos + 1 postre grande",
                price: 120000
            },
            finDeSemana: {
                name: "Fin de semana musical üé∂",
                description: "Este s√°bado tendremos m√∫sica andina en vivo a partir de las 8:00 p.m. ¬°Reserva tu mesa ahora!"
            }
        };

        // Tipos de reserva disponibles
        const reservationTypes = {
            normal: {
                name: "Reserva Normal",
                description: "Reserva est√°ndar para disfrutar de nuestra comida t√≠pica nari√±ense"
            },
            romantica: {
                name: "Reserva Rom√°ntica",
                description: "Una cena para dos personas en un sitio exclusivo con:",
                includes: [
                    "Decoraci√≥n especial",
                    "Atenci√≥n personalizada",
                    "Detalles a pedido del usuario",
                    "Serenata con m√∫sica andina"
                ]
            }
        };

        // M√©todos de pago
        const paymentMethods = {
            efectivo: "Efectivo",
            transferencia: "Transferencia",
            tarjeta: "Tarjeta de cr√©dito/d√©bito"
        };

        function sendMessage() {
            const userInput = document.getElementById('user-input');
            const message = userInput.value.trim();
            
            if (message === '') return;
            
            addMessage(message, 'user');
            userInput.value = '';
            
            // Simular tiempo de respuesta
            setTimeout(() => {
                if (reservationStep > 0) {
                    processReservation(message);
                } else if (orderStep > 0) {
                    processOrder(message);
                } else {
                    processUserMessage(message);
                }
            }, 500);
        }
        
        function handleKeyPress(event) {
            if (event.key === 'Enter') {
                sendMessage();
            }
        }
        
        function addMessage(text, sender) {
            const chatMessages = document.getElementById('chat-messages');
            const messageDiv = document.createElement('div');
            messageDiv.classList.add('message');
            messageDiv.classList.add(sender === 'user' ? 'user-message' : 'bot-message');
            messageDiv.innerHTML = text;
            
            chatMessages.appendChild(messageDiv);
            chatMessages.scrollTop = chatMessages.scrollHeight;
        }
        
        function processUserMessage(userMessage) {
            userMessage = userMessage.toLowerCase();
            
            // Verificar si preguntan por los creadores
            if (userMessage.includes('quien te cre√≥') || 
                userMessage.includes('quien te creo') || 
                userMessage.includes('quien te hizo') || 
                userMessage.includes('quien te desarrollo') || 
                userMessage.includes('quienes te crearon') ||
                userMessage.includes('creador') ||
                userMessage.includes('desarrollador') ||
                userMessage.includes('autor')) {
                addMessage('<div class="creator-message">Fui creado por: <strong>Rolando Riascos, Alexandra Yela, Tania Getial y Carolina Guerrero</strong></div>', 'bot');
            }
            else if (userMessage.includes('hola') || userMessage.includes('buenos') || userMessage.includes('buenas')) {
                showWelcome();
            } 
            else if (userMessage.includes('men√∫') || userMessage.includes('carta') || userMessage.includes('plato')) {
                showMenu();
            }
            else if (userMessage.includes('reserva') || userMessage.includes('mesa') || userMessage.includes('reservar')) {
                startReservation();
            }
            else if (userMessage.includes('pedido') || userMessage.includes('domicilio') || userMessage.includes('entrega') || userMessage.includes('delivery')) {
                startOrder();
            }
            else if (userMessage.includes('promocion') || userMessage.includes('oferta') || userMessage.includes('descuento')) {
                showPromotions();
            }
            else if (userMessage.includes('punto') || userMessage.includes('acumular') || userMessage.includes('fidelizaci√≥n')) {
                showLoyaltyInfo();
            }
            else if (userMessage.includes('gracias')) {
                addMessage("¬°De nada! Estamos para servirte. ¬øHay algo m√°s en lo que pueda ayudarte?", 'bot');
            }
            else {
                addMessage("Disculpa, no entend√≠ tu solicitud. ¬øPuedes intentar con una de las opciones del men√∫?", 'bot');
            }
        }
        
        function showWelcome() {
            let welcomeMessage = "¬°Hola! Bienvenido a Sabores de Nari√±o. ¬øEn qu√© puedo ayudarte hoy?";
            welcomeMessage += '<div class="options-container">';
            welcomeMessage += '<button class="option-button" onclick="showMenu()">Ver Men√∫</button>';
            welcomeMessage += '<button class="option-button" onclick="startReservation()">Reservar Mesa</button>';
            welcomeMessage += '<button class="option-button" onclick="startOrder()">Pedido a Domicilio</button>';
            welcomeMessage += '<button class="option-button" onclick="showPromotions()">Promociones</button>';
            welcomeMessage += '<button class="option-button" onclick="showLoyaltyInfo()">Puntos de Fidelizaci√≥n</button>';
            welcomeMessage += '</div>';
            
            addMessage(welcomeMessage, 'bot');
        }
        
        function showMenu() {
            let menuMessage = "<strong>Men√∫ de Sabores de Nari√±o</strong><br><br>";
            
            // Entradas
            menuMessage += '<div class="menu-category">Entradas</div>';
            menu.entradas.forEach(item => {
                menuMessage += `<div class="menu-item"><span>${item.name}</span> <span>$${item.price.toLocaleString()}</span></div>`;
            });
            
            // Platos principales
            menuMessage += '<div class="menu-category">Platos Principales</div>';
            menu.principales.forEach(item => {
                menuMessage += `<div class="menu-item"><span>${item.name}</span> <span>$${item.price.toLocaleString()}</span></div>`;
            });
            
            // Bebidas
            menuMessage += '<div class="menu-category">Bebidas</div>';
            menu.bebidas.forEach(item => {
                menuMessage += `<div class="menu-item"><span>${item.name}</span> <span>$${item.price.toLocaleString()}</span></div>`;
            });
            
            // Postres
            menuMessage += '<div class="menu-category">Postres</div>';
            menu.postres.forEach(item => {
                menuMessage += `<div class="menu-item"><span>${item.name}</span> <span>$${item.price.toLocaleString()}</span></div>`;
            });
            
            menuMessage += '<br>¬øTe gustar√≠a hacer un pedido o reservar una mesa?';
            menuMessage += '<div class="options-container">';
            menuMessage += '<button class="option-button" onclick="startOrder()">Hacer Pedido</button>';
            menuMessage += '<button class="option-button" onclick="startReservation()">Reservar Mesa</button>';
            menuMessage += '</div>';
            
            addMessage(menuMessage, 'bot');
        }
        
        function startReservation() {
            reservationStep = 1;
            let reservationMessage = "¬°Excelente! Tenemos dos tipos de reservas disponibles:<br><br>";
            
            // Reserva normal
            reservationMessage += `<strong>${reservationTypes.normal.name}</strong><br>`;
            reservationMessage += `${reservationTypes.normal.description}<br><br>`;
            
            // Reserva rom√°ntica
            reservationMessage += `<strong>${reservationTypes.romantica.name}</strong><br>`;
            reservationMessage += `${reservationTypes.romantica.description}<br>`;
            reservationMessage += '<div class="reservation-details">';
            reservationTypes.romantica.includes.forEach(item => {
                reservationMessage += `‚úì ${item}<br>`;
            });
            reservationMessage += '</div><br>';
            
            reservationMessage += "Por favor, indica qu√© tipo de reserva deseas (normal o rom√°ntica):";
            
            addMessage(reservationMessage, 'bot');
        }
        
        function processReservation(message) {
            message = message.toLowerCase();
            
            if (reservationStep === 1) {
                // Paso 1: Selecci√≥n del tipo de reserva
                if (message.includes('normal') || message.includes('est√°ndar') || message.includes('standard')) {
                    reservationType = 'normal';
                    reservationStep = 2;
                    addMessage("Has seleccionado Reserva Normal. ¬øPara cu√°ntas personas es la reserva y en qu√© fecha y hora?", 'bot');
                } else if (message.includes('rom√°ntica') || message.includes('romantica') || message.includes('especial')) {
                    reservationType = 'romantica';
                    reservationStep = 2;
                    addMessage("Has seleccionado Reserva Rom√°ntica. Por favor, indica la fecha y hora para tu reserva:", 'bot');
                } else {
                    addMessage("No entend√≠ tu respuesta. Por favor, indica si deseas una reserva 'normal' o 'rom√°ntica'.", 'bot');
                }
            } else if (reservationStep === 2) {
                // Paso 2: Detalles de la reserva
                reservationDetails = message;
                reservationStep = 3;
                
                let confirmMessage = `Perfecto. Tu solicitud de reserva ${reservationType === 'romantica' ? 'rom√°ntica' : 'normal'} para ${message} ha sido registrada.<br><br>`;
                confirmMessage += "Para confirmar tu reserva, por favor proporciona tu nombre y n√∫mero de tel√©fono:";
                
                addMessage(confirmMessage, 'bot');
            } else if (reservationStep === 3) {
                // Paso 3: Confirmaci√≥n final
                reservationStep = 0;
                
                let successMessage = '<div class="success-message">';
                successMessage += "‚úÖ <strong>¬°Reserva confirmada con √©xito!</strong><br><br>";
                successMessage += `Tipo: ${reservationType === 'romantica' ? 'Reserva Rom√°ntica' : 'Reserva Normal'}<br>`;
                successMessage += `Detalles: ${reservationDetails}<br>`;
                successMessage += `Contacto: ${message}<br><br>`;
                successMessage += "Te esperamos en Sabores de Nari√±o. ¬°Disfruta de una experiencia gastron√≥mica √∫nica!";
                
                if (reservationType === 'romantica') {
                    successMessage += "<br><br>üíï Recuerda que tu reserva rom√°ntica incluye: decoraci√≥n especial, atenci√≥n personalizada, detalles a pedido y serenata.";
                }
                successMessage += '</div>';
                
                addMessage(successMessage, 'bot');
                
                // Reiniciar detalles de reserva
                reservationDetails = {};
                reservationType = '';
            }
        }
        
        function startOrder() {
            orderStep = 1;
            orderItems = [];
            orderTotal = 0;
            
            let orderMessage = "¬°Perfecto! Para realizar tu pedido, por favor indica qu√© platos deseas ordenar.<br><br>";
            orderMessage += "Puedes escribir algo como:<br>";
            orderMessage += "- 'Quiero 2 truchas a la plancha y 1 jugo de lulo'<br>";
            orderMessage += "- 'Deseo ordenar 1 cuy asado y 2 empanadas'<br><br>";
            orderMessage += "Tambi√©n puedes ver nuestro <button class='option-button' onclick='showMenu()'>men√∫ completo</button> para elegir.";
            
            addMessage(orderMessage, 'bot');
        }
        
        function processOrder(message) {
            if (orderStep === 1) {
                // Procesar el pedido
                const orderText = message.toLowerCase();
                
                // Simulaci√≥n simple de procesamiento de pedido
                if (orderText.includes('trucha') || orderText.includes('cuy') || orderText.includes('empanada') || 
                    orderText.includes('jugo') || orderText.includes('sopa') || orderText.includes('postre')) {
                    
                    // Ejemplo de procesamiento - en una app real se har√≠a parsing m√°s sofisticado
                    if (orderText.includes('trucha')) {
                        const quantity = orderText.includes('2') ? 2 : 1;
                        orderItems.push({ name: "Trucha a la plancha", price: 32000, quantity: quantity });
                        orderTotal += 32000 * quantity;
                    }
                    
                    if (orderText.includes('cuy')) {
                        const quantity = orderText.includes('2') ? 2 : 1;
                        orderItems.push({ name: "Cuy asado", price: 38000, quantity: quantity });
                        orderTotal += 38000 * quantity;
                    }
                    
                    if (orderText.includes('empanada')) {
                        const quantity = orderText.includes('2') ? 2 : 1;
                        orderItems.push({ name: "Empanadas de carne", price: 3000, quantity: quantity });
                        orderTotal += 3000 * quantity;
                    }
                    
                    if (orderText.includes('jugo de lulo')) {
                        orderItems.push({ name: "Jugo de lulo", price: 3000, quantity: 1 });
                        orderTotal += 3000;
                    }
                    
                    orderStep = 2;
                    
                    // Mostrar resumen del pedido
                    let orderSummary = '<div class="order-summary">';
                    orderSummary += "<strong>Resumen de tu pedido:</strong><br><br>";
                    
                    orderItems.forEach(item => {
                        orderSummary += `${item.quantity}x ${item.name} - $${(item.price * item.quantity).toLocaleString()}<br>`;
                    });
                    
                    orderSummary += `<br><strong>Total: $${orderTotal.toLocaleString()}</strong><br><br>`;
                    orderSummary += "¬øDeseas pagar en efectivo o con transferencia?";
                    orderSummary += '</div>';
                    
                    addMessage(orderSummary, 'bot');
                } else {
                    addMessage("No pude identificar los platos en tu pedido. ¬øPodr√≠as intentarlo de nuevo? Por ejemplo: 'Quiero 2 truchas y 1 jugo de lulo'", 'bot');
                }
            } else if (orderStep === 2) {
                // Procesar m√©todo de pago
                const paymentMethod = message.toLowerCase();
                let paymentText = "";
                
                if (paymentMethod.includes('efectivo')) {
                    paymentText = paymentMethods.efectivo;
                } else if (paymentMethod.includes('transferencia')) {
                    paymentText = paymentMethods.transferencia;
                } else if (paymentMethod.includes('tarjeta')) {
                    paymentText = paymentMethods.tarjeta;
                } else {
                    addMessage("No entend√≠ tu m√©todo de pago. Por favor elige entre: efectivo, transferencia o tarjeta.", 'bot');
                    return;
                }
                
                orderStep = 0;
                
                // Calcular nuevos puntos
                const newPoints = userPoints + Math.floor(orderTotal / 1000);
                userPoints = newPoints;
                
                let successMessage = '<div class="success-message">';
                successMessage += "‚úÖ <strong>¬°Pedido confirmado con √©xito!</strong><br><br>";
                successMessage += "<strong>Resumen del pedido:</strong><br>";
                
                orderItems.forEach(item => {
                    successMessage += `${item.quantity}x ${item.name} - $${(item.price * item.quantity).toLocaleString()}<br>`;
                });
                
                successMessage += `<br><strong>Total: $${orderTotal.toLocaleString()}</strong><br>`;
                successMessage += `<strong>M√©todo de pago:</strong> ${paymentText}<br><br>`;
                successMessage += "Tu pedido estar√° listo en aproximadamente 30-40 minutos.<br><br>";
                successMessage += `<strong>Puntos de fidelizaci√≥n:</strong> Has ganado ${Math.floor(orderTotal / 1000)} puntos. Ahora tienes ${userPoints} puntos acumulados.`;
                successMessage += '</div>';
                
                addMessage(successMessage, 'bot');
                
                // Reiniciar variables de pedido
                orderItems = [];
                orderTotal = 0;
            }
        }
        
        function showPromotions() {
            let promoMessage = "<strong>Promociones de la semana</strong><br><br>";
            
            // Promoci√≥n de martes
            promoMessage += '<div class="menu-category">' + promotions.martes.name + '</div>';
            promoMessage += '<div class="menu-item"><span>' + promotions.martes.description + '</span> <span>$' + promotions.martes.price.toLocaleString() + '</span></div>';
            
            // Promoci√≥n de fin de semana
            promoMessage += '<div class="menu-category">' + promotions.finDeSemana.name + '</div>';
            promoMessage += promotions.finDeSemana.description;
            
            promoMessage += '<br><br>¬øTe interesa alguna de estas promociones?';
            promoMessage += '<div class="options-container">';
            promoMessage += '<button class="option-button" onclick="startReservation()">Reservar para fin de semana</button>';
            promoMessage += '<button class="option-button" onclick="promoOrder()">Pedir combo familiar</button>';
            promoMessage += '</div>';
            
            addMessage(promoMessage, 'bot');
        }
        
        function promoOrder() {
            orderStep = 1;
            orderItems = [
                { name: "Cuy asado", price: 38000, quantity: 2 },
                { name: "Jugos varios", price: 5000, quantity: 4 },
                { name: "Postre grande", price: 12000, quantity: 1 }
            ];
            orderTotal = 120000;
            
            let orderSummary = '<div class="order-summary">';
            orderSummary += "<strong>¬°Excelente elecci√≥n! Combo Familiar seleccionado:</strong><br><br>";
            orderSummary += "2x Cuy asado - $76,000<br>";
            orderSummary += "4x Jugos varios - $20,000<br>";
            orderSummary += "1x Postre grande - $12,000<br>";
            orderSummary += `<br><strong>Total con descuento: $${orderTotal.toLocaleString()}</strong> (Ahorras $24,000)<br><br>`;
            orderSummary += "¬øDeseas pagar en efectivo o con transferencia?";
            orderSummary += '</div>';
            
            orderStep = 2;
            addMessage(orderSummary, 'bot');
        }
        
        function showLoyaltyInfo() {
            let loyaltyMessage = "<strong>Programa de Fidelizaci√≥n</strong><br><br>";
            loyaltyMessage += "Con cada compra acumulas puntos. Por cada $10,000 gastados, ganas 10 puntos.<br>";
            loyaltyMessage += "<strong>100 puntos = 1 postre gratis.</strong><br><br>";
            loyaltyMessage += `Actualmente tienes <strong>${userPoints} puntos</strong> acumulados.`;
            
            if (userPoints >= 100) {
                const freeDesserts = Math.floor(userPoints / 100);
                loyaltyMessage += `<br><br>¬°Felicidades! Tienes derecho a <strong>${freeDesserts} postre(s) gratis</strong> en tu pr√≥ximo pedido.`;
            } else {
                const pointsNeeded = 100 - userPoints;
                loyaltyMessage += `<br><br>Te faltan <strong>${pointsNeeded} puntos</strong> para obtener tu primer postre gratis.`;
            }
            
            loyaltyMessage += '<br><br>¬°Sigue disfrutando de nuestra comida para ganar m√°s puntos!';
            
            addMessage(loyaltyMessage, 'bot');
        }
        
        // Inicializar el chatbot
        window.onload = function() {
            // Mostrar mensaje de bienvenida despu√©s de un breve retraso
            setTimeout(() => {
                showWelcome();
            }, 300);
        };
    </script>
</body>
</html>